视角反向时，攀爬不对
timelineBUG



*12,字体描边，开场动画 ,匿名函数？如何代码控制使得动画画面居中，关键帧才有标签，通过标签确认状态

private GComponent  xxxx// Fairy的组件
xx=yyy.ui//在start写，更换时yyy.ui.dispose();myp.componentName=string;myp.CreateUI();
xx.GetTransition("t2").Play();//t2 为播放的动画,
scene1.GetTransition("t2").SetHook("1stime",()=> { print("??S?ADAS?D"); });;//SetHook挂钩函数
()=>{}//为匿名函数
6.Inspector一栏锁旁边的按钮点击Debug可以显示所有字段。
如何查看日志
怪物死亡后倒流 0HP复活？
设计类图
！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！
！！！！！！！！！！！！！！！！！！！！
类不能直接赋值？
传值还是传引用！！！！！！！！！！！！！！！！？？？？？？？？？？
！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！


每隔一段固定的时间便会执行一次搜寻任务。设置间隔时间是为了减少AI的计算量，也模拟了驾 驶员的反应时间
/已有目标的情况，判断是否丢失目标，没有则不搜寻
如果生成的导航图不能让人满意，则可以尝试用立方体、球体等形状拼接成一个如图4-27所示的辅助形状，
代表地图的可行走区域。然后用这个形状生成导航图。这种做法可以较好地控制导航图的形 状，
以达到更好的寻路效果。
多加数据库以及实时聊天，交易
脚本规划，设计模式：
		DATABASE做好，减少耦合，还能网络更新
LEVEL3的设计
死亡分支返回上一存档
()=>{}//为匿名函数
频繁的做关闭UI的按钮？，直接unity编辑吧，不然累死我
下午 存档完善，音效，频繁的做关闭UI的按钮？
音效管理,每个场景的管理
最终战无法复活,如何做？
配置，直接完成AI属性调整，比如攻击距离等
---------------
镜头遮挡迁移（两点之间检测）√

UV贴图尺寸耗资源，如何动态加载一部分？
·末日誓言，五个分身存在时，持剑下，准备动作子弹时间，天变黑
完成所有关卡再解决遗留：

1.重构，整理脚本

注意：
BUG:忘记回放的时候要和分身AC  actname做对比，导致分身actname为持枪empty，导致分身卡住，一直调用play
OnParticleCollision，需要粒子系统勾选collider，并且勾选sendmessage

播放开始从0.99、0.9开始，要是进度控制，完全不用管，播放速度和进度，甚至不用配置新动画
进度值累加就好，虽然无法知道第一段在哪个动画状态开始记录，但是放弃最开始那一段就可以了（tcb可选方案）
射击时玩家模型不对，攻击武器也不对，射击枪的调整，武器看向的调整，四元数和欧拉角的转化不断学习；
刷新频率过高，应该后期500帧刷新一次-而不是每帧都刷新

//连续三帧播放同一个动画，明显不合理,正放的时候，可能也是导致飞天的原因，取消isk就一卡一看，还是算了，除非记录速度、、、、取消连续播放后，流畅了一点点
移动的时候射击不是很完美，脚步基本不动
盾牌耐久的更新上传
子弹命中应该有爆炸效果
unity  profile
agt还是有点卡，模型替换，算法优化？（很大一部分是频繁set true false 的锅）
退出枪态马上完子弹，进入枪态还能挥动武器
场景美化，优化
预制体保存使用，脚本自动获取，不然换个场景就舒服了，还有标签，层级等等 shader做地图，地形？
最终BOSS贴两个图
复活BUG刚死就按会闪UI，鼠标灵敏度
攻击特效添加伤害？》
演出BUG
敌人火焰往↑飘，一直落地，怪物位置也上移了？（暂时没了）修改：drag改变1，或者Y轴改变
地形先不管
UI不全用UGUI，比如动的就不用，获得物品播放FLASH一样
任务导航A星算法21号早上，任务委托，多任务？接任务，按钮等细写逻辑，添加物品失败的话,使用bool来判断是否完成任务
若果枚举则可以多加完成情况（未接任务，进行中，已完成，已领取奖励）
使用一个完整的文本当剧本还是不断更换剧本好，更换文本是否会吃掉一行文字？
非锁定怎么取消攻击？，通过鼠标可见和不可见来确定是否能攻击
场景再来一个大框，回收子弹，敌人也要使用对象池
开关地形是否是很好的操作？
enum
第三个复刻自己，BOSS应该有霸体，还有停顿，不然一直砍


-----------------------
多个关卡怎么办？，怎么选择后继续对话？
任务配置，有点变成乱成一团，如果多个NPC任务怎么办？收集物品任务怎么办？，收集多种物品又该怎么办？
背包满了没有设置关闭
盾牌在逆流下不可装备，切换状态持续右键可以举盾BUG，第一次演出
后期把非必要模型换成贴图，unity detail resolution暂时设置小一点，优化
撞人会瞬移飞天，敌人协程随机发呆，视角太快，减慢视角，灵敏度设置
爬山可加曲线控制
checkstate,checktag过多，警告
格子物品删除后饮用函数getitemid，有一些找不到了（顺序问题）
复活超时未做，失败回到上一个存档
为什么会开启两次委托？有时会？检查myButton有没有写错,感觉是键盘的问题
UI和GM交互生产物品，还有不应该直接.am.sm.xxxx来修改数值，对话UI控制没有放到UIM里，明显不好
暂时把分身的AC改为IsAI,可以正常回放和真着跑步了

知识：：
后处理profile.getsetting,,,,value=来赋值
使用协程返回对象池，可以做到时间返回对象池效果
代码实现动画机不受timescale影响，也可以做到子弹时间，正常速度，但是当游戏暂停timescale=0时就很麻烦，除非自己做暂停时间方法
调节size可以调节相机看到的范围，调节不渲染天空盒，，shader遮罩没做
消息监听和派发可以用C#的委托实现，Unity也有一个SendMessage和BroadcastMessage，用委托实现可能会好一些。
重要字段有：对象池所使用的对象，能用来判断当前对象是否在使用的flag标签？
搞懂匿名函数
bool值逻辑太乱了，重写？解耦合（代理设计模式？|委托,消息事件），各个状态是否用枚举代替bool提升可读？
爬山能拔剑，没有返回的原因是函数内
--------------------------------------------------------------------------------------------

用绑定方法切换场景好吗？是否应该用一个物体挂载所有需要绑定的东西？
通过文本内容决定任务是否添加物品？
-------------------------------------------------------------------

Brush小一点，如果是刷背不出的也会占用位置，避免周围不能刷树木，，感觉GPU风扇有点快？，树木drawcall次数多?
BUG:
记录模型和两层动画的。。值，
动画播放不了？频繁更换分身setfalse true，导致不对，分身出现的持续时间不对很卡,‘分身的存储改用队列或者数组会不会比较好？’，已经有数组了，数组和队列配合用√
分身的错误警示，因为状态机竟然还保留着ATTACK3,但是我没看到，因为放在边边了
ATC，分身飞天可能是动画设置的冲量？设置为isk
AC，应该是分身自己的AC,导致切枪失败，
！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！
string 和"sdasd" 的区别就是多一个空格？？，可能也是switch不成功的原因,引用？
除非是最后一行，不然都要加/r
使用.Trim()
！！！
！！
timeAllList[indexa][j] = timeAllList[indexa][j + 1];真的能克隆信息吗？不能
！！！！！！！！！！！
!!
task=new 需要每次初始化都做，否则只有一个task
!!!
UI需要有消息事件，不然按键都没反应
爬山到顶，一开始就有？因为没有清空触发器
-1：
sendmessageupward函数名字太长将无法使用？
0.TIMELINE选好剧本，才能在非运行状态修改！
ControlPlayableAsset cpa 
修改control track 的parent gameobject和修改player脚本里的AM一样，需要set referenceValue

                else if (track.name == "Control Track2")
                {
                    //ControlTrack ctrack=(ControlTrack)track;
                    foreach (var clip in track.GetClips())
                    {
                        ControlPlayableAsset cpa = (ControlPlayableAsset)clip.asset;
                        pd.SetReferenceValue(cpa.sourceGameObject.exposedName, _victim.gameObject);
                    }
                }


1、攻击触发很困难的原因是？，为什么应该已经触发了，但是没有反应？
根据实验，attack信号会被自动清理，前面偷懒搞得？并不是，是第三层！！！！！！！！！
！！！！！！！！！！！！！！！！！！
！！！！！！！！！！！！！！！！！！
！！！！！！！！！！！！！！！！！
射击搞得，共用一个触发导致的，，。。。。。。。。
，，，，，，，，，，，，
，，，，，，，，说明同一个状态机各个状态最好写自己的触发信号
一直打印attack的原因是？AI的attack

2.终于遇到了
别的脚本之间调用数值，调用前的数值才是调用的数值？？
            Debug.Log("a");
            Debug.Log(isRun);//一直打印false?,但是面板是true;,不用看了，肯定是AI造成的
写在前面的可以正常检测，后面的检测爬山的状态很难？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？？

？？、
??
??
??
??
记得了		return搞得，我服了，爬山return
return需谨慎，偷懒就是改BUG的时候惨，浪费时间，，，欲速则不达！！！！！！
！！！
！！！
！！！！！！！！！！！！！

好像也检测不到forward更改的值？？


3.括号移动不报错，麻烦就很大

出现BUG会有部分功能无法使用的情况。。。。。，我说怎么设置不了开关，和位移。。。。。。。

4.删不掉一些组件，可能是预制体的问题！

疾风突袭gale strike,可以叫windy
5.射击
与其看向屏幕正中碰撞点，不如看向屏幕正前方几十米处
6.switch /R来判断是否换头像，特定词（可能是一个字母）将无法单独显示

7.小问题
Layer mask，getmask是动画层
LayerMask.NameToLayer("sensor")是层级
new Color()吃255,还是1？image 的color吃1

---------------------------------2月初
通用消息系统，添加委托，移出委托，调用委托，字典管理委托？，DICT<事件类型，事件>
，加泛型，默认支持五种类型的委托，，多态？，委托 ，事件，

重要
VS怎么调试错误？，切换逻辑不太对，而且写得太复杂了，以后修，切换会腾空一下
---------callstack检测
做到键盘控制部分UI
dm轨道？打印次数不对经foreach (var track in tla.GetOutputTracks())//执行很多次

---------------------------------------2月底


可加：
击败回放，™的结果不是
//疾风突袭对应好林克时间动作，最好改为sensor判断，还有敌人攻击状态判断，timescale=1时攻速过快
采用动画机速度就可以避免
多几套盾牌，每段攻击伤害不一样*数值
被攻击会有镜头抖动（未做）
背包加滑杆，格子移动？装备栏位（装备栏，装备物品）？（）
盾反过慢容易受到伤害？考虑是否清空hit，第二段攻击盾反就很难看了，对不上，难道这也要用IK？
修正摄像机穿墙能看到地底！！！！！！！
地图可见距离怎么做的
除非生成物品也在GM里生成，各个UI面板下也有脚本，是否有更好的解决方法？代码写的太差，bug检测不出来，最好重构一下
勾股定理李解决爬山问题,爬山手脚加IK，爬墙ik通过手脚的碰撞体添加来检测

次要可加：
BOSS devil,npc-maiwuqi,的资源过大，想办法删掉一些东西
地图可见距离怎么做的，特效卡通，可以导入，资源过大，看看怎么缩减资源
帧率很影响体力消耗，这显然不合理，可以改到fixupdate里计时减少，
可以做格挡的方向，格挡，敌人会收回剑，播放速度-1
爬山动画可以完善，蹲下有很多动画可以用，以后可以添加，方向闪避也可以添加，可以添加侧面闪避判断疾风突袭

记一下就好，没必要以后研究：

对象池存储子弹，使用2D来触发子弹？2D款好像方向固定XY>?使用Constant Force组件？，恒力，变速，子弹非K下？
Discrete（离散型检测模式）就是普通的默认状态；
Continuous（连续检测）则是更加精细的碰撞检测，但是很耗资源；在这种状态下，当这个刚体与其他普通刚体碰撞时，仍将使用Discrete的碰撞检测，但是与没有刚体的Mesh Collider碰撞时就会连续检测了。
Continuous dynamic（动态连续检测）则是对没有刚体的Mesh Collider或是对处在Continuous或是Continuous Dynamic状态下的刚体使用连续碰撞检测，对其他的刚体使用普通的Discrete检测。
但是！！！必须得注意的是：
1.Continuous/Continuous dynamic(连续检测)–对物理性能有很大的影响，所以如果高速运动的物体的碰撞没有问题，应该设置为默认的 Discrete

2.Continuous/Continuous dynamic – 只支持使用Box,Sphere和Capusle碰撞器的刚体。(这一点是在以往网上的资料上发现的，查了Unity2017最新版手册，发现确实有说到Continuous支持Box,Sphere和Capusle)

2018之后又出了一个Continuous Speculative 这里官方的API解释是要比Continuous和Dynamic的方式这两种方式更加的节省性能，是扫描方式的进行连续碰撞检测。（猜测：才物体静止的时候不进行检测节省性能。在有位移的时候才进行连续碰撞检测）